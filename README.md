# 🗺️ OpenPin Public

A lightweight, map-based event board for campus or community use.  
一个轻量、无需登录的地图式活动发布平台，适合社团、学校、社区等快速发布活动。

> 开源由 [Qiexian-code](https://github.com/Qiexian-code) 发起和维护。

---

## ✨ Features / 功能亮点

- 🗺️ Interactive map-based event pins / 地图上直接发布活动
- 🕒 Time, location, image, poster, and description / 支持设置时间、地址、图片、描述
- 📷 Multi-image preview and popup / 多图展示与大图预览
- 🔗 Supabase backend (no server needed) / 基于 Supabase，无需自建服务器
- 🧩 Lightweight, no login, easy to deploy / 轻量，无需注册登录，易部署

---

## 🚀 Live Demo / 在线预览

[🔗 Visit the project online / 在线访问](https://qiexian-code.github.io/OpenPin-Public/)

### 🚀 在线演示 / Demo (只展示界面，不含数据功能)

由于 Supabase 密钥未公开，GitHub Pages 演示页面不会连接数据库。

👉 如果你想运行完整功能，请 clone 本项目并配置你自己的 Supabase 项目与 `env.js`。

---

## 🛠️ How to Deploy / 本地部署步骤

> ⚠️ You need to create your own Supabase project first.  
> ⚠️ 你需要先创建属于自己的 Supabase 项目。

### 1️⃣ Clone the repository / 克隆仓库

```bash
git clone https://github.com/Qiexian-code/OpenPin-Public.git
cd OpenPin-Public
```

### 2️⃣ Create `env.js` with your Supabase config / 配置 `env.js`

Create a file named `env.js` in root folder and add your config:

```js
window.env = {
  SUPABASE_URL: "https://your-project.supabase.co",
  SUPABASE_KEY: "your-anon-public-key"
};
```

✅ Make sure `env.js` is **listed in `.gitignore`** to avoid leaking your credentials.  
✅ 请确保 `.gitignore` 中添加了 `env.js`，避免密钥泄露。

---

## 🗃️ Supabase Table Setup / 数据库表结构

You can use this SQL to create the required table:

```sql
create table openpin_public_activities (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default now(),
  title text not null,
  address text not null,
  lat float8 not null,
  lng float8 not null,
  start_time timestamp with time zone not null,
  end_time timestamp with time zone not null,
  desc text,
  poster text,
  images jsonb default '[]'
);
```

✅ Grant `anon` role permissions to `INSERT`, `SELECT`.

---

## 🧩 Files Overview / 文件结构说明

| 文件名         | 功能说明                               |
|----------------|----------------------------------------|
| `index.html`   | 主网页页面                             |
| `main.js`      | 前端交互逻辑（地图、表单、数据库）     |
| `env.js`       | 环境变量配置（私密）                   |
| `style.css`    | 页面样式表                             |
| `assets/`      | 存放图标和静态资源                     |

---

## 📄 License / 开源协议

[MIT License](LICENSE) © 2025 Qiexian-code  
自由使用，欢迎二次开发，但请保留版权说明。

---

欢迎你贡献想法、fork 二开，或在 issue 中交流部署与改进建议 🙌
